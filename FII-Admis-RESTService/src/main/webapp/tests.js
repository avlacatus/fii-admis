var cand = parseJsonFile(jQuery.parseJSON('{"candidates":[{"id":"hHAg","lastName":"Jolie","gpaGrade":9.3,"ATestGrade":8.9,"socialId":"2720102232554","firstName":"Angelina"},{"id":"Sf1c","lastName":"Malos","gpaGrade":7.23,"ATestGrade":5.67,"socialId":"1900908345456","firstName":"Gabriel"},{"id":"ovYU","lastName":"Neagu","gpaGrade":4.9,"ATestGrade":8.45,"socialId":"1911116602268","firstName":"Victor"},{"id":"2OGp","lastName":"Rotaru","gpaGrade":6.9,"ATestGrade":6.9,"socialId":"2900908785634","firstName":"Maria"},{"id":"Xgej","lastName":"Moraru","gpaGrade":6.56,"ATestGrade":7.39,"socialId":"2910520395712","firstName":"Maria"},{"id":"Uo9y","lastName":"Iridon","gpaGrade":4.67,"ATestGrade":9.56,"socialId":"2900207148328","firstName":"Adriana"},{"id":"OSM9","lastName":"Duta","gpaGrade":9.06,"ATestGrade":6.19,"socialId":"1910607137091","firstName":"Marius"},{"id":"bmVg","lastName":"Coman","gpaGrade":7.4,"ATestGrade":7.9,"socialId":"1910626157979","firstName":"Toma"},{"id":"SyXY","lastName":"Stuparu","gpaGrade":7.89,"ATestGrade":7.45,"socialId":"1920202195379","firstName":"Andrei"},{"id":"ff5r","lastName":"Dragan","gpaGrade":7.9,"ATestGrade":7.56,"socialId":"2910323091987","firstName":"Felicia"},{"id":"2qWs","lastName":"Banica","gpaGrade":8.37,"ATestGrade":7.34,"socialId":"1910417104043","firstName":"George"},{"id":"Fitl","lastName":"Matei","gpaGrade":8.34,"ATestGrade":7.46,"socialId":"1910614333577","firstName":"Romeo"},{"id":"8ixA","lastName":"Patrascu","gpaGrade":9.03,"ATestGrade":6.9,"socialId":"2920802110223","firstName":"Emanuela"},{"id":"zmSd","lastName":"Marin","gpaGrade":8.53,"ATestGrade":7.49,"socialId":"2910417104043","firstName":"Georgiana"},{"id":"sOed","lastName":"Florea","gpaGrade":8.58,"ATestGrade":7.54,"socialId":"2900517860265","firstName":"Andreea"},{"id":"UEuJ","lastName":"Zamfirescu","gpaGrade":6.78,"ATestGrade":9.56,"socialId":"2920127383531","firstName":"Alina"},{"id":"z5p1","lastName":"Ionescu","gpaGrade":9.1,"ATestGrade":7.25,"socialId":"2910721925153","firstName":"Elena"},{"id":"vpt7","lastName":"Dinu","gpaGrade":8.45,"ATestGrade":7.98,"socialId":"1960429395488","firstName":"Ionut"},{"id":"UxCK","lastName":"Negrila","gpaGrade":8.9,"ATestGrade":7.89,"socialId":"1911102611485","firstName":"Teodor"},{"id":"RBd2","lastName":"Negrila","gpaGrade":8.9,"ATestGrade":7.89,"socialId":"1911102611485","firstName":"Teodor"},{"id":"ltCs","lastName":"Lupulescu","gpaGrade":8.29,"ATestGrade":8.92,"socialId":"1901016980039","firstName":"Petre"},{"id":"uG6A","lastName":"Mustetea","gpaGrade":8.9,"ATestGrade":8.39,"socialId":"2910703130056","firstName":"Georgeta"},{"id":"aDZl","lastName":"Brezeanu","gpaGrade":8.9,"ATestGrade":8.45,"socialId":"2920804309766","firstName":"Ioana"},{"id":"DBvh","lastName":"Dedu","gpaGrade":8.37,"ATestGrade":9.35,"socialId":"2910506976611","firstName":"Lidia"},{"id":"75us","lastName":"Bonciu","gpaGrade":9.29,"ATestGrade":8.64,"socialId":"2910711007680","firstName":"Marta"},{"id":"j21y","lastName":"Brezeanu","gpaGrade":9.54,"ATestGrade":8.46,"socialId":"2901121352855","firstName":"Nicoleta"},{"id":"mjgQ","lastName":"Damian","gpaGrade":9.09,"ATestGrade":9.45,"socialId":"1910323091987","firstName":"Marian"},{"id":"Ssi6","lastName":"Teodorescu","gpaGrade":9.08,"ATestGrade":9.9,"socialId":"2900803929879","firstName":"Mihaela"},{"id":"fQak","lastName":"Ivanescu","gpaGrade":9.56,"ATestGrade":9.67,"socialId":"2902312786745","firstName":"Raluca"},{"id":"NuUI","lastName":"Enescu","gpaGrade":9.89,"ATestGrade":9.34,"socialId":"2900125946821","firstName":"Constanta"},{"id":"MZOp","lastName":"Piciorus","gpaGrade":9.78,"ATestGrade":9.76,"socialId":"1920804379242","firstName":"Marian"},{"id":"fswT","lastName":"maria","gpaGrade":3.6,"ATestGrade":9.3,"socialId":"1337878787424","firstName":"ana"}]}'));

test("Parse candidates", function () {
	candidates = parseJsonFile(jQuery.parseJSON('{"candidates":[{"id":"hHAg","lastName":"Jolie","gpaGrade":9.3,"ATestGrade":8.9,"socialId":"2720102232554","firstName":"Angelina"},{"id":"Sf1c","lastName":"Malos","gpaGrade":7.23,"ATestGrade":5.67,"socialId":"1900908345456","firstName":"Gabriel"},{"id":"ovYU","lastName":"Neagu","gpaGrade":4.9,"ATestGrade":8.45,"socialId":"1911116602268","firstName":"Victor"},{"id":"2OGp","lastName":"Rotaru","gpaGrade":6.9,"ATestGrade":6.9,"socialId":"2900908785634","firstName":"Maria"},{"id":"Xgej","lastName":"Moraru","gpaGrade":6.56,"ATestGrade":7.39,"socialId":"2910520395712","firstName":"Maria"},{"id":"Uo9y","lastName":"Iridon","gpaGrade":4.67,"ATestGrade":9.56,"socialId":"2900207148328","firstName":"Adriana"},{"id":"OSM9","lastName":"Duta","gpaGrade":9.06,"ATestGrade":6.19,"socialId":"1910607137091","firstName":"Marius"},{"id":"bmVg","lastName":"Coman","gpaGrade":7.4,"ATestGrade":7.9,"socialId":"1910626157979","firstName":"Toma"},{"id":"SyXY","lastName":"Stuparu","gpaGrade":7.89,"ATestGrade":7.45,"socialId":"1920202195379","firstName":"Andrei"},{"id":"ff5r","lastName":"Dragan","gpaGrade":7.9,"ATestGrade":7.56,"socialId":"2910323091987","firstName":"Felicia"},{"id":"2qWs","lastName":"Banica","gpaGrade":8.37,"ATestGrade":7.34,"socialId":"1910417104043","firstName":"George"},{"id":"Fitl","lastName":"Matei","gpaGrade":8.34,"ATestGrade":7.46,"socialId":"1910614333577","firstName":"Romeo"},{"id":"8ixA","lastName":"Patrascu","gpaGrade":9.03,"ATestGrade":6.9,"socialId":"2920802110223","firstName":"Emanuela"},{"id":"zmSd","lastName":"Marin","gpaGrade":8.53,"ATestGrade":7.49,"socialId":"2910417104043","firstName":"Georgiana"},{"id":"sOed","lastName":"Florea","gpaGrade":8.58,"ATestGrade":7.54,"socialId":"2900517860265","firstName":"Andreea"},{"id":"UEuJ","lastName":"Zamfirescu","gpaGrade":6.78,"ATestGrade":9.56,"socialId":"2920127383531","firstName":"Alina"},{"id":"z5p1","lastName":"Ionescu","gpaGrade":9.1,"ATestGrade":7.25,"socialId":"2910721925153","firstName":"Elena"},{"id":"vpt7","lastName":"Dinu","gpaGrade":8.45,"ATestGrade":7.98,"socialId":"1960429395488","firstName":"Ionut"},{"id":"UxCK","lastName":"Negrila","gpaGrade":8.9,"ATestGrade":7.89,"socialId":"1911102611485","firstName":"Teodor"},{"id":"RBd2","lastName":"Negrila","gpaGrade":8.9,"ATestGrade":7.89,"socialId":"1911102611485","firstName":"Teodor"},{"id":"ltCs","lastName":"Lupulescu","gpaGrade":8.29,"ATestGrade":8.92,"socialId":"1901016980039","firstName":"Petre"},{"id":"uG6A","lastName":"Mustetea","gpaGrade":8.9,"ATestGrade":8.39,"socialId":"2910703130056","firstName":"Georgeta"},{"id":"aDZl","lastName":"Brezeanu","gpaGrade":8.9,"ATestGrade":8.45,"socialId":"2920804309766","firstName":"Ioana"},{"id":"DBvh","lastName":"Dedu","gpaGrade":8.37,"ATestGrade":9.35,"socialId":"2910506976611","firstName":"Lidia"},{"id":"75us","lastName":"Bonciu","gpaGrade":9.29,"ATestGrade":8.64,"socialId":"2910711007680","firstName":"Marta"},{"id":"j21y","lastName":"Brezeanu","gpaGrade":9.54,"ATestGrade":8.46,"socialId":"2901121352855","firstName":"Nicoleta"},{"id":"mjgQ","lastName":"Damian","gpaGrade":9.09,"ATestGrade":9.45,"socialId":"1910323091987","firstName":"Marian"},{"id":"Ssi6","lastName":"Teodorescu","gpaGrade":9.08,"ATestGrade":9.9,"socialId":"2900803929879","firstName":"Mihaela"},{"id":"fQak","lastName":"Ivanescu","gpaGrade":9.56,"ATestGrade":9.67,"socialId":"2902312786745","firstName":"Raluca"},{"id":"NuUI","lastName":"Enescu","gpaGrade":9.89,"ATestGrade":9.34,"socialId":"2900125946821","firstName":"Constanta"},{"id":"MZOp","lastName":"Piciorus","gpaGrade":9.78,"ATestGrade":9.76,"socialId":"1920804379242","firstName":"Marian"},{"id":"fswT","lastName":"maria","gpaGrade":3.6,"ATestGrade":9.3,"socialId":"1337878787424","firstName":"ana"}]}'));

	equal(candidates.length, 32, "Candidates length");
	equal(candidates[0].lastName, "Jolie", "First candidate name");
	equal(candidates[0].firstName, "Angelina", "First candidate name");
	equal(candidates[0].gpaGrade, "9.3", "First candidate grade");
});

test("Parse results", function () {
	candidates = parseResults(
		jQuery.parseJSON('{"admissionResults":[{"id":"XvsG","finalGrade":9.77,"candidateId":"MZOp","admissionStatus":{"statusString":"tax_free","statusInt":0}},{"id":"V7RQ","finalGrade":9.615,"candidateId":"fQak","admissionStatus":{"statusString":"tax_free","statusInt":0}},{"id":"NZBR","finalGrade":9.615,"candidateId":"NuUI","admissionStatus":{"statusString":"tax_free","statusInt":0}},{"id":"6f9H","finalGrade":9.49,"candidateId":"Ssi6","admissionStatus":{"statusString":"tax_free","statusInt":0}},{"id":"CLzC","finalGrade":9.27,"candidateId":"mjgQ","admissionStatus":{"statusString":"tax_free","statusInt":0}},{"id":"vGoH","finalGrade":9.100000000000001,"candidateId":"hHAg","admissionStatus":{"statusString":"tax_free","statusInt":0}},{"id":"KKSw","finalGrade":9,"candidateId":"j21y","admissionStatus":{"statusString":"tax_free","statusInt":0}},{"id":"CfJs","finalGrade":8.965,"candidateId":"75us","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"k5rG","finalGrade":8.86,"candidateId":"DBvh","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"CEeZ","finalGrade":8.675,"candidateId":"aDZl","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"AQ0T","finalGrade":8.645,"candidateId":"uG6A","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"pRsY","finalGrade":8.605,"candidateId":"ltCs","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"jNwO","finalGrade":8.395,"candidateId":"UxCK","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"Co3D","finalGrade":8.395,"candidateId":"RBd2","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"96yc","finalGrade":8.215,"candidateId":"vpt7","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"8LnY","finalGrade":8.175,"candidateId":"z5p1","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"QkTX","finalGrade":8.17,"candidateId":"UEuJ","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"vajx","finalGrade":8.06,"candidateId":"sOed","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"ZgC9","finalGrade":8.01,"candidateId":"zmSd","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"abhF","finalGrade":7.965,"candidateId":"8ixA","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"hbyI","finalGrade":7.9,"candidateId":"Fitl","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"zlNx","finalGrade":7.8549999999999995,"candidateId":"2qWs","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"Kzjp","finalGrade":7.73,"candidateId":"ff5r","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"F0v7","finalGrade":7.67,"candidateId":"SyXY","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"BxWT","finalGrade":7.65,"candidateId":"bmVg","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"I7d5","finalGrade":7.625,"candidateId":"OSM9","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"nJms","finalGrade":7.115,"candidateId":"Uo9y","admissionStatus":{"statusString":"tax","statusInt":1}},{"id":"KeGE","finalGrade":6.975,"candidateId":"Xgej","admissionStatus":{"statusString":"rejected","statusInt":2}},{"id":"3BfB","finalGrade":6.9,"candidateId":"2OGp","admissionStatus":{"statusString":"rejected","statusInt":2}},{"id":"6ap8","finalGrade":6.675,"candidateId":"ovYU","admissionStatus":{"statusString":"rejected","statusInt":2}},{"id":"8uli","finalGrade":6.45,"candidateId":"Sf1c","admissionStatus":{"statusString":"rejected","statusInt":2}}]}'), cand);

	equal(candidates.length, 32, "Candidates length");
	equal(candidates[0].finalGrade, "9.100000000000001", "Candidate 1 grade");
	equal(candidates[0].resultState, "tax_free", "Candidate 1 status");

	equal(candidates[1].finalGrade, "6.45", "Candidate 2 grade");
	equal(candidates[1].resultState, "rejected", "Candidate 2 status");
});

test("Edit candidate", function () {

	var values = cand[0];

	values.firstName = "Abc";
	values.lastName = "Def";
	values.gpaGrade = "5";
	values.ATestGrade = "6";
	values.socialId = "1231231231231";

	editCandidateCommit(values, cand);

	equal(cand[0].firstName, "Abc", "First name");
	equal(cand[0].lastName, "Def", "Last name");
	equal(cand[0].gpaGrade, "5", "GPA Grade");
	equal(cand[0].ATestGrade, "6", "A Test Grade");
	equal(cand[0].socialId, "1231231231231", "Social ID Number");


});

test("Delete candidate", function () {
	var okk = true;
	deleteUser(1);

	for (var i = 0; i < cand.length; i++) {
		if (cand[i] == null) continue;

		if (cand[i].firstName == "Gabriel" && cand[i].lastName == "Malos") {
			okk = false;
		}
	}

	ok(okk, "Candidate deleted");
});